<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>GRAPH : SMARTHOME FOR YOURLIFE</title>
    <link href="gauge.css"rel="stylesheet">
    <link href="gauge1.css"rel="stylesheet">
    <link href="gauge2.css"rel="stylesheet">


  </head>
  <body>
    <div class="w3-sidebar w3-bar-block w3-card w3-animate-left" style="display:none;" id="leftMenu">
        <button onclick="closeLeftMenu()" class="w3-bar-item w3-black w3-button w3-large">Close &times;</button>
        <a href="#" class="w3-bar-item w3-button"onclick="GRAPH()"><i class="fa fa-home">HOME</i></a>
        <a href="#" class="w3-bar-item w3-button"><i class="fa fa-line-chart">GRAPH</i></a>
        <a href="#" class="w3-bar-item w3-button"onclick="Logout()"><i class="fa fa-close">Logout</i></a>
      </div>
      <!--button sidbar-->
      <div class="w3-black">
          <button class="w3-button w3-blaxk w3-xlarge w3-left" onclick="openLeftMenu()">&#9776;</button>
          <div class="w3-container">
          <h1>• GRAPH<span class="note">PAGE</span></h1>
        </div>
      </div>
          
      <script>
      function GRAPH(){
        localStorage.removeItem("jwt")
        location.replace("./index.html")
      }

    function Logout(){
        localStorage.removeItem("jwt")
        location.replace("./login.html")
      }
        
      function openLeftMenu() {
        document.getElementById("leftMenu").style.display = "block";
      }
      
      function closeLeftMenu() {
        document.getElementById("leftMenu").style.display = "none";
      }
      </script>


      <p1><b>Temperature<span class="note">(◦C)</span></b></p1>
      <div class="container ">
        <div class="gauge-a"></div>
        <div class="gauge-b"></div>
        <div class="gauge-c"></div>
        <div class="gauge-data">
          <h1 id="percent"></h1>
          <p>Celsius</p>
            </div>
          </div>    
      </div>
      <p4>━ • <span class="note">Last updated</span> • ━</p4>
      <p5>This is temperature(◦C) in yourhouse.</p5>
      <p6><span class="note">Module</span> : Humidity-Temperature sensor.</p6>

      <p2><b>Temperature><span class="note">(◦F)</span></b></p2>
      <div class="container1 ">
        <div class="gauge-a1"></div>
        <div class="gauge-b1"></div>
        <div class="gauge-c1"></div>
        <div class="gauge-data1">
          <h1 id="percent1"></h1>
          <p>Fahreheit</p>
            </div>
          </div>    
      </div>
      <p7>━ • <span class="note">Last updated</span> • ━</p7>
      <p8>This is temperature(◦F) in yourhouse.</p8>
      <p9><span class="note">Module</span> : Humidity-Temperature sensor.</p9>

      <p3><b>Relative Humidity<span class="note">(%RH)</span></b></p3>
      <div class="container2 ">
        <div class="gauge-a2"></div>
        <div class="gauge-b2"></div>
        <div class="gauge-c2"></div>
        <div class="gauge-data2">
          <h1 id="percent2"></h1>
          <p>Humidity</p>
            </div>
          </div>    
      </div>
      <p10>━ • <span class="note">Last updated</span> • ━</p10>
      <p11>This is Relative Humidity(%RH) in yourhouse.</p11>
      <p12><span class="note">Module</span> : Humidity-Temperature sensor.</p12>
      
      <!--ตรงนี้Firebase-->
      <script type = "module">// Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js'
        import {getDatabase,ref, child, get,onValue } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAZotvDxUjfw_RJQWymdIqfsjdMAW6u8ok",
            authDomain: "arduino-1-89893.firebaseapp.com",
            databaseURL: "https://arduino-1-89893-default-rtdb.asia-southeast1.firebasedatabase.app/",
            projectId: "arduino-1-89893",
            storageBucket: "arduino-1-89893.appspot.com",
            messagingSenderId: "962826463802",
            appId: "1:962826463802:web:3d8c76e72d19955ddee303",
            measurementId: "G-SB48NZD89Q"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const dbRef = ref(getDatabase());
get(child(dbRef, `Hum_Temp/Celsius`)).then((snapshot) => {
if (snapshot.exists()) {
console.log(snapshot.val());
document.getElementById("percent").innerHTML =snapshot.val();
} else {
console.log("No data available");
}
}).catch((error) => {
console.error(error);
});
onValue(dbRef, (snapshot) => {
  const data = snapshot.val();
  console.log(data)
  document.getElementById("percent").innerHTML =snapshot.val().sensor.Last_update;
});
        </script>

      <!--ตรงนี้Firebase-->
      <script type = "module">// Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js'
        import {getDatabase,ref, child, get,onValue } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAZotvDxUjfw_RJQWymdIqfsjdMAW6u8ok",
            authDomain: "arduino-1-89893.firebaseapp.com",
            databaseURL: "https://arduino-1-89893-default-rtdb.asia-southeast1.firebasedatabase.app/",
            projectId: "arduino-1-89893",
            storageBucket: "arduino-1-89893.appspot.com",
            messagingSenderId: "962826463802",
            appId: "1:962826463802:web:3d8c76e72d19955ddee303",
            measurementId: "G-SB48NZD89Q"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const dbRef = ref(getDatabase());
get(child(dbRef, `Hum_Temp/Fahreheit`)).then((snapshot) => {
if (snapshot.exists()) {
console.log(snapshot.val());
document.getElementById("percent1").innerHTML =snapshot.val();
} else {
console.log("No data available");
}
}).catch((error) => {
console.error(error);
});
onValue(dbRef, (snapshot) => {
  const data = snapshot.val();
  console.log(data)
  document.getElementById("percent1").innerHTML =snapshot.val().sensor.Last_update;
});
        </script>

      <!--ตรงนี้Firebase-->
      <script type = "module">// Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js'
        import {getDatabase,ref, child, get,onValue } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAZotvDxUjfw_RJQWymdIqfsjdMAW6u8ok",
            authDomain: "arduino-1-89893.firebaseapp.com",
            databaseURL: "https://arduino-1-89893-default-rtdb.asia-southeast1.firebasedatabase.app/",
            projectId: "arduino-1-89893",
            storageBucket: "arduino-1-89893.appspot.com",
            messagingSenderId: "962826463802",
            appId: "1:962826463802:web:3d8c76e72d19955ddee303",
            measurementId: "G-SB48NZD89Q"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const dbRef = ref(getDatabase());
get(child(dbRef, `Hum_Temp/Humidity`)).then((snapshot) => {
if (snapshot.exists()) {
console.log(snapshot.val());
document.getElementById("percent2").innerHTML =snapshot.val();
} else {
console.log("No data available");
}
}).catch((error) => {
console.error(error);
});
onValue(dbRef, (snapshot) => {
  const data = snapshot.val();
  console.log(data)
  document.getElementById("percent2").innerHTML =snapshot.val().sensor.Last_update;
});
        </script>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  </body>
</html>